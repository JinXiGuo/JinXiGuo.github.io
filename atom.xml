<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>山腰处一个问道小和尚</title>
  
  <subtitle>小和尚</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://yoursite.com/"/>
  <updated>2018-07-14T07:42:52.506Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name>Xu JinBo</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>mysql免安装版配置</title>
    <link href="http://yoursite.com/2018/07/14/mysql%E5%85%8D%E5%AE%89%E8%A3%85%E7%89%88%E9%85%8D%E7%BD%AE/"/>
    <id>http://yoursite.com/2018/07/14/mysql免安装版配置/</id>
    <published>2018-07-14T07:23:19.000Z</published>
    <updated>2018-07-14T07:42:52.506Z</updated>
    
    <content type="html"><![CDATA[<ol><li><h1 id="下载MySQL-Community-Server-5-6-14"><a href="#下载MySQL-Community-Server-5-6-14" class="headerlink" title="下载MySQL Community Server 5.6.14"></a>下载MySQL Community Server 5.6.14</h1></li><li><h1 id="解压MySQL压缩包"><a href="#解压MySQL压缩包" class="headerlink" title="解压MySQL压缩包"></a>解压MySQL压缩包</h1><p>将以下载的MySQL压缩包解压到自定义目录下，这里我用d盘根目录。</p></li><li><h1 id="添加环境变量"><a href="#添加环境变量" class="headerlink" title="添加环境变量"></a>添加环境变量</h1><p>变量名：MYSQL_HOME</p></li></ol><p>变量值：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">D:\mysql-5.6.24-winx64</span><br></pre></td></tr></table></figure></p><p>即为mysql的自定义解压目录。</p><p>再在Path中添加  %MYSQL_HOME%\bin</p><ol start="4"><li><h1 id="注册windows系统服务"><a href="#注册windows系统服务" class="headerlink" title="注册windows系统服务"></a>注册windows系统服务</h1>将mysql注册为windows系统服务</li></ol><p>操作如下：</p><ol><li><h2 id="新建一个my-ini文件并把my-ini文件拷贝到D-mysql-5-6-24-winx64目录下，my-ini内容如下："><a href="#新建一个my-ini文件并把my-ini文件拷贝到D-mysql-5-6-24-winx64目录下，my-ini内容如下：" class="headerlink" title="新建一个my.ini文件并把my.ini文件拷贝到D:\mysql-5.6.24-winx64目录下，my.ini内容如下："></a>新建一个my.ini文件并把my.ini文件拷贝到D:\mysql-5.6.24-winx64目录下，my.ini内容如下：</h2></li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">[mysqld]</span><br><span class="line"></span><br><span class="line">character-set-server=utf8</span><br><span class="line"></span><br><span class="line">#设置3306端口</span><br><span class="line"></span><br><span class="line">port = 3306 </span><br><span class="line"></span><br><span class="line"># 设置mysql的安装目录</span><br><span class="line"></span><br><span class="line">basedir=D:\mysql-5.6.24-winx64</span><br><span class="line"></span><br><span class="line"># 设置mysql数据库的数据的存放目录</span><br><span class="line"></span><br><span class="line">datadir=D:\mysql-5.6.24-winx64\data</span><br><span class="line"></span><br><span class="line"># 允许最大连接数</span><br><span class="line"></span><br><span class="line">max_connections=200</span><br><span class="line"></span><br><span class="line"># 服务端使用的字符集默认为8比特编码的latin1字符集</span><br><span class="line"></span><br><span class="line">character-set-server=utf8</span><br><span class="line"></span><br><span class="line"># 创建新表时将使用的默认存储引擎</span><br><span class="line"></span><br><span class="line">default-storage-engine=MyISAM</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[mysql]</span><br><span class="line"></span><br><span class="line"># 设置mysql客户端默认字符集</span><br><span class="line"></span><br><span class="line">default-character-set=utf8 </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[client]</span><br><span class="line"></span><br><span class="line"># 设置mysql客户端的字符集</span><br><span class="line"></span><br><span class="line">default-character-set=utf8</span><br></pre></td></tr></table></figure><ol start="2"><li><h2 id="输入服务安装命令："><a href="#输入服务安装命令：" class="headerlink" title="输入服务安装命令："></a>输入服务安装命令：</h2></li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysqld  -install</span><br></pre></td></tr></table></figure><p>移除服务命令为：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysqld remove</span><br></pre></td></tr></table></figure></p><ol start="5"><li><h1 id="启动MySQL服务"><a href="#启动MySQL服务" class="headerlink" title="启动MySQL服务"></a>启动MySQL服务</h1><p>启动服务命令为：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">net start mysql</span><br></pre></td></tr></table></figure></li><li><h1 id="修改-root-账号的密码"><a href="#修改-root-账号的密码" class="headerlink" title="修改 root 账号的密码"></a>修改 root 账号的密码</h1><p>刚安装完成时root账号默认密码为空，此时可以将密码修改为指定的密码。如：123456</p></li></ol><ul><li>方法一：</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">c:&gt;mysql –uroot</span><br><span class="line"></span><br><span class="line">mysql&gt;show databases; </span><br><span class="line"></span><br><span class="line">mysql&gt;use mysql;</span><br><span class="line"></span><br><span class="line">mysql&gt;UPDATE user SET password=PASSWORD(&quot;123456&quot;) WHERE user=&apos;root&apos;;</span><br><span class="line"></span><br><span class="line">mysql&gt;FLUSH PRIVILEGES;</span><br><span class="line"></span><br><span class="line">mysql&gt;QUIT</span><br></pre></td></tr></table></figure><p><strong>【注意一定不要遗忘==FLUSH PRIVILEGES==这句话，否则密码更改不能生效】</strong></p><ul><li>方法二：</li></ul><p>利用第三方管理工具进行密码修改。如Navicat for MySQL</p><ol start="7"><li><h1 id="mysql-5-7-9无法启动的问题"><a href="#mysql-5-7-9无法启动的问题" class="headerlink" title="mysql 5.7.9无法启动的问题"></a>mysql 5.7.9无法启动的问题</h1>如上配置好my.ini文件（上面的第五大步）<br>初始化data目录（该版本没有这个目录）：命令行执行<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysqld --initialize --user=mysql --console</span><br></pre></td></tr></table></figure></li></ol><p>完成后记录下最后一行的密码，如：localhost: UU9K#7)Vnq7f<br>启动mysql：net start mysql<br>登录：输入<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql -uroot -p</span><br></pre></td></tr></table></figure></p><p>然后输入第3步记录的密码<br>修改密码：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">set password = password(&apos;root&apos;);</span><br></pre></td></tr></table></figure></p><p>参考自：<br><br><a href="https://note.youdao.com/" target="_blank" rel="noopener">http://www.cnblogs.com/dazhaxie/p/3592494.htmlhttp://www.cnblogs.com/dazhaxie/p/3592494.html</a></p>]]></content>
    
    <summary type="html">
    
      mysql免安装版配置，一开始语句多些，以后复制数据库到其他地方执行语句就可以了
    
    </summary>
    
      <category term="JavaEE" scheme="http://yoursite.com/categories/JavaEE/"/>
    
    
      <category term="mysql" scheme="http://yoursite.com/tags/mysql/"/>
    
  </entry>
  
  <entry>
    <title>spring的任务计划spring-Task</title>
    <link href="http://yoursite.com/2018/07/14/spring%E7%9A%84%E4%BB%BB%E5%8A%A1%E8%AE%A1%E5%88%92spring-Task/"/>
    <id>http://yoursite.com/2018/07/14/spring的任务计划spring-Task/</id>
    <published>2018-07-14T07:08:27.000Z</published>
    <updated>2018-07-14T07:14:26.518Z</updated>
    
    <content type="html"><![CDATA[<p>Spring3.0以后自主开发的定时任务工具，spring task，可以将它比作一个轻量级的Quartz</p><hr><ol><li><h2 id="配置文件方式"><a href="#配置文件方式" class="headerlink" title="配置文件方式"></a>配置文件方式</h2><ol><li><h3 id="任务执行类的编写"><a href="#任务执行类的编写" class="headerlink" title="任务执行类的编写"></a>任务执行类的编写</h3></li></ol></li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">@Service  </span><br><span class="line">public class TaskJob &#123;  </span><br><span class="line">      </span><br><span class="line">    public void job1() &#123;  </span><br><span class="line">        System.out.println(&quot;任务进行中。。。&quot;);  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="2"><li><h3 id="xml文件配置"><a href="#xml文件配置" class="headerlink" title="xml文件配置"></a>xml文件配置</h3></li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br><span class="line"></span><br><span class="line">&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;</span><br><span class="line">xmlns:task=&quot;http://www.springframework.org/schema/task&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span><br><span class="line">xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans</span><br><span class="line">           http://www.springframework.org/schema/beans/spring-beans.xsd</span><br><span class="line">           http://www.springframework.org/schema/task </span><br><span class="line">   http://www.springframework.org/schema/task/spring-task.xsd&quot;&gt;</span><br><span class="line"></span><br><span class="line">&lt;task:scheduled-tasks&gt;</span><br><span class="line">&lt;task:scheduled ref=&quot;taskJob&quot; method=&quot;job1&quot; cron=&quot;0/1 * * * * ?&quot; /&gt;</span><br><span class="line">&lt;/task:scheduled-tasks&gt;</span><br><span class="line">&lt;/beans&gt;</span><br></pre></td></tr></table></figure><p>ref参数指定的即任务类，method指定的即需要运行的方法，cron及cronExpression表达式</p><ol start="2"><li><h2 id="注解方式"><a href="#注解方式" class="headerlink" title="注解方式"></a>注解方式</h2><ol><li><h3 id="任务执行类的编写-1"><a href="#任务执行类的编写-1" class="headerlink" title="任务执行类的编写"></a>任务执行类的编写</h3></li></ol></li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">@Service  </span><br><span class="line">public class TaskJob &#123;  </span><br><span class="line"></span><br><span class="line">@Scheduled(cron = &quot;0/1 * * * * ?&quot;)  </span><br><span class="line">    public void job1() &#123;  </span><br><span class="line">        System.out.println(&quot;任务进行中。。。&quot;);  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="2"><li><h3 id="xml文件配置-1"><a href="#xml文件配置-1" class="headerlink" title="xml文件配置"></a>xml文件配置</h3></li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br><span class="line"></span><br><span class="line">&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;</span><br><span class="line">xmlns:task=&quot;http://www.springframework.org/schema/task&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span><br><span class="line">xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans</span><br><span class="line">           http://www.springframework.org/schema/beans/spring-beans.xsd</span><br><span class="line">           http://www.springframework.org/schema/task </span><br><span class="line">   http://www.springframework.org/schema/task/spring-task.xsd&quot;&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!-- 开启这个配置，spring才能识别@Scheduled注解   --&gt;  </span><br><span class="line">    &lt;task:annotation-driven scheduler=&quot;qbScheduler&quot; mode=&quot;proxy&quot;/&gt;  </span><br><span class="line">    &lt;task:scheduler id=&quot;qbScheduler&quot; pool-size=&quot;10&quot;/&gt;  </span><br><span class="line"></span><br><span class="line">&lt;/beans&gt;</span><br></pre></td></tr></table></figure><p>整理自：<a href="https://note.youdao.com/" target="_blank" rel="noopener">http://gong1208.iteye.com/blog/1773177</a></p>]]></content>
    
    <summary type="html">
    
      spring的计划任务配置，可以用于处理批处理
    
    </summary>
    
      <category term="JavaEE" scheme="http://yoursite.com/categories/JavaEE/"/>
    
    
      <category term="quartz" scheme="http://yoursite.com/tags/quartz/"/>
    
      <category term="spring" scheme="http://yoursite.com/tags/spring/"/>
    
  </entry>
  
  <entry>
    <title>fastdfs</title>
    <link href="http://yoursite.com/2018/07/14/fastdfs/"/>
    <id>http://yoursite.com/2018/07/14/fastdfs/</id>
    <published>2018-07-14T06:49:34.000Z</published>
    <updated>2018-07-14T07:11:01.223Z</updated>
    
    <content type="html"><![CDATA[<p><strong>本文只介绍fastdfs初步安装过程，不涉及原理</strong></p><ol><li><h3 id="环境准备"><a href="#环境准备" class="headerlink" title="环境准备"></a>环境准备</h3></li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">yum install make cmake gcc gcc-c++</span><br><span class="line">yum -y install zip unzip</span><br><span class="line">yum install perl*</span><br><span class="line">yum install cpan</span><br><span class="line">yum install vim</span><br></pre></td></tr></table></figure><ol start="2"><li><h3 id="fastdfs安装"><a href="#fastdfs安装" class="headerlink" title="fastdfs安装"></a>fastdfs安装</h3></li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">cd /usr/local/software/</span><br><span class="line">unzip libfastcommon-master.zip -d /usr/local/fast/</span><br><span class="line">cd /usr/local/fast/libfastcommon-master/</span><br><span class="line">./make.sh</span><br><span class="line">./make.sh install</span><br><span class="line">mk dir /usr/local/lib/</span><br><span class="line">ln -s /usr/lib64/libfastcommon.so /usr/local/lib/libfastcommon.so</span><br><span class="line">ln -s /usr/lib64/libfastcommon.so /usr/lib/libfastcommon.so</span><br><span class="line">ln -s /usr/lib64/libfdfsclient.so /usr/local/lib/libfdfsclient.so</span><br><span class="line">ln -s /usr/lib64/libfdfsclient.so /usr/lib/libfdfsclient.so</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">cd /usr/local/software</span><br><span class="line">tar -zxvf FastDFS_v5.05.tar.gz -C /usr/local/fast/</span><br><span class="line">cd /usr/local/fast/FastDFS/</span><br><span class="line">./make.sh</span><br><span class="line">./make.sh install</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">vim /etc/init.d/fdfs_storaged</span><br><span class="line">%s+/usr/local/bin+/usr/bin</span><br><span class="line">vim /etc/init.d/fdfs_trackerd</span><br><span class="line">%s+/usr/local/bin+/usr/bin</span><br></pre></td></tr></table></figure><ol start="3"><li><h3 id="tracker"><a href="#tracker" class="headerlink" title="tracker"></a>tracker</h3></li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">cd /etc/fdfs/</span><br><span class="line">cp tracker.conf.sample tracker.conf</span><br><span class="line">vim /etc/fdfs/tracker.conf</span><br><span class="line">修改路径为：</span><br><span class="line">base_path=/fastdfs/tracker</span><br><span class="line"></span><br><span class="line">mkdir -p /fastdfs/tracker</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">启动tracker命令：/etc/init.d/fdfs_trackerd start</span><br><span class="line">查看进程命令：ps -el | grep fdfs</span><br><span class="line">停止tracker命令：/etc/init.d/fdfs_trackerd stop</span><br></pre></td></tr></table></figure><ol start="4"><li><h3 id="storage"><a href="#storage" class="headerlink" title="storage"></a>storage</h3></li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">cd /etc/fdfs/</span><br><span class="line">cp storage.conf.sample storage.conf</span><br><span class="line">vim /etc/fdfs/storage.conf</span><br><span class="line">修改内容：</span><br><span class="line">base_path=/fastdfs/storage</span><br><span class="line">store_path0=/fastdfs/storage</span><br><span class="line">tracker_server=192.168.1.172:22122</span><br><span class="line">http.server_port=8888</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">mkdir -p /fastdfs/storage</span><br><span class="line">启动storage：/etc/init.d/fdfs_storaged start</span><br><span class="line">查看进程命令：ps -ef | grep fdfs</span><br><span class="line">关闭storage：/etc/init.d/fdfs_storaged stop</span><br></pre></td></tr></table></figure><ol start="5"><li><h3 id="client"><a href="#client" class="headerlink" title="client"></a>client</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">cd /etc/fdfs/</span><br><span class="line">cp client.conf.sample client.conf</span><br><span class="line">vim /etc/fdfs/client.conf</span><br><span class="line">修改内容：</span><br><span class="line">base_path=/fastdfs/tracker</span><br><span class="line">tracker_server=192.168.1.172:22122</span><br></pre></td></tr></table></figure></li><li><h3 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cd /usr/bin/</span><br><span class="line">ls | grep fdfs</span><br><span class="line">/usr/bin/fdfs_upload_file /etc/fdfs/client.conf /usr/local/software/come.jpg</span><br></pre></td></tr></table></figure></li><li><h3 id="防火墙"><a href="#防火墙" class="headerlink" title="防火墙"></a>防火墙</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">命令：vim /etc/sysconfig/iptables</span><br><span class="line">添加：-A INPUT -m state --state NEW -m tcp -p tcp --dport 22122 -j ACCEPT</span><br><span class="line">重启：service iptables restart</span><br><span class="line"></span><br><span class="line">可以设置开机启动跟踪器：（一般生产环境需要开机启动一些服务，如keepalived、linux、tomcat等等）</span><br><span class="line">命令：vim /etc/rc.d/rc.local</span><br><span class="line">加入配置：/etc/init.d/fdfs_trackerd start</span><br></pre></td></tr></table></figure></li><li><h3 id="nginx"><a href="#nginx" class="headerlink" title="nginx"></a>nginx</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">cd /usr/local/software/</span><br><span class="line">tar -zxvf /usr/local/software/fastdfs-nginx-module_v1.16.tar.gz -C /usr/local/fast/</span><br><span class="line">vim /usr/local/fast/fastdfs-nginx-module/src/config</span><br><span class="line">修改：</span><br><span class="line">CORE_INCS=&quot;$CORE_INCS /usr/include/fastdfs /usr/include/fastcommon/</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">cp /usr/local/fast/fastdfs-nginx-module/src/mod_fastdfs.conf /etc/fdfs/</span><br><span class="line">vim /etc/fdfs/mod_fastdfs.conf</span><br><span class="line">修改内容：比如连接超时时间、跟踪器路径配置、url的group配置、</span><br><span class="line">connect_timeout=10</span><br><span class="line">tracker_server=192.168.1.172:22122</span><br><span class="line">url_have_group_name = true</span><br><span class="line">store_path0=/fastdfs/storage</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">cd /usr/local/fast/FastDFS/conf/</span><br><span class="line">cp http.conf mime.types /etc/fdfs/</span><br><span class="line">ln -s /fastdfs/storage/data/ /fastdfs/storage/data/M00</span><br><span class="line">vim nginx.conf</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">cd /usr/local/software/</span><br><span class="line">tar -zxvf nginx-1.6.2.tar.gz -C /usr/local/</span><br><span class="line">cd /usr/local/nginx-1.6.2/</span><br><span class="line">./configure --add-module=/usr/local/fast/fastdfs-nginx-module/src/ &amp;&amp; make &amp;&amp; make install</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">cd /usr/local/nginx/conf/</span><br><span class="line">vim nginx.conf</span><br><span class="line">修改内容为：</span><br><span class="line">listen 8888;</span><br><span class="line">server_name localhost;</span><br><span class="line">location ~/group([0-9])/M00 &#123;</span><br><span class="line">    #alias /fastdfs/storage/data;</span><br><span class="line">    ngx_fastdfs_module;</span><br><span class="line">&#125;</span><br><span class="line">注意：nginx里的端口要和第五步 配置FastDFS存储中的storage.conf文件配置一致，</span><br><span class="line">也就是（http.server_port=8888）</span><br><span class="line">/usr/local/nginx/sbin/nginx</span><br><span class="line"></span><br><span class="line">测试地址：</span><br><span class="line">http://192.168.148.132:8888/group1/M00/00/00/wKiUg1mNFV2AH7y0AAYsIFQr1Z4228.jpg</span><br></pre></td></tr></table></figure></li></ol>]]></content>
    
    <summary type="html">
    
      fastdfs 初始化步骤，不涉及原理
    
    </summary>
    
      <category term="JavaEE" scheme="http://yoursite.com/categories/JavaEE/"/>
    
    
      <category term="fastdfs" scheme="http://yoursite.com/tags/fastdfs/"/>
    
      <category term="Linux" scheme="http://yoursite.com/tags/Linux/"/>
    
  </entry>
  
  <entry>
    <title>linux安装jdk</title>
    <link href="http://yoursite.com/2018/07/12/linux%E5%AE%89%E8%A3%85jdk/"/>
    <id>http://yoursite.com/2018/07/12/linux安装jdk/</id>
    <published>2018-07-12T07:44:17.000Z</published>
    <updated>2018-07-14T06:59:40.453Z</updated>
    
    <content type="html"><![CDATA[<p>tar -zxvf jdk-8u144-linux-x64.tar.gz -C  /usr/local/<br>vim /etc/profile</p><p>添加：</p><p>#set java environment<br>JAVA_HOME=/usr/local/jdk1.8.0_144/<br>JRE_HOME=/usr/local/jdk1.8.0_144/jre<br>CLASS_PATH=.:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar:$JRE_HOME/lib<br>PATH=$PATH:$JAVA_HOME/bin:$JRE_HOME/bin<br>export JAVA_HOME JRE_HOME CLASS_PATH PATH</p><p>source /etc/profile</p>]]></content>
    
    <summary type="html">
    
      centos 下安装jdk
    
    </summary>
    
      <category term="JavaEE" scheme="http://yoursite.com/categories/JavaEE/"/>
    
    
      <category term="jdk" scheme="http://yoursite.com/tags/jdk/"/>
    
      <category term="linux" scheme="http://yoursite.com/tags/linux/"/>
    
  </entry>
  
  <entry>
    <title>Hello World</title>
    <link href="http://yoursite.com/2018/07/12/hello-world/"/>
    <id>http://yoursite.com/2018/07/12/hello-world/</id>
    <published>2018-07-12T07:21:34.001Z</published>
    <updated>2018-07-12T07:21:34.001Z</updated>
    
    <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="noopener">Deployment</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;Welcome to &lt;a href=&quot;https://hexo.io/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Hexo&lt;/a&gt;! This is your very first post. Check &lt;a href=&quot;https://hexo.
      
    
    </summary>
    
    
  </entry>
  
</feed>
